<mat-accordion>
  <mat-expansion-panel [expanded]="expanded()">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon class="title-icon">search</mat-icon>
        Search Controls
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="controls-container">
      <div class="control-group">
        <h4>Species</h4>
        <mat-button-toggle-group (valueChange)="onSpeciesChange($event)" [disabled]="isBusy()">
          @for (species of allSpecies(); track species.id) {
          <mat-button-toggle [value]="species.name" [checked]="speciesName() === species.name">
            {{ species.pluralName }}
          </mat-button-toggle>
          }
        </mat-button-toggle-group>
      </div>

      <div class="control-group">
        <h4>Order</h4>
        <mat-button-toggle-group (valueChange)="onOrderChange($event)" [disabled]="isBusy()">
          @for (option of orderByOptions; track $index) {
          <mat-button-toggle [value]="option.value">{{ option.label }}</mat-button-toggle>
          }
        </mat-button-toggle-group>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>
