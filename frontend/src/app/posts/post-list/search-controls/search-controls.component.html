<mat-accordion>
  <mat-expansion-panel [expanded]="expanded()">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon class="title-icon">search</mat-icon>
        Search Controls
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div class="controls-container">
      <div class="control-group">
        <h4>Species</h4>
        <mat-button-toggle-group (change)="speciesName.set($event.value)" [disabled]="isBusy()">
          @for (option of speciesOptions; track $index) {
          <mat-button-toggle [value]="option.value" [checked]="speciesName() === option.value">
            {{ option.label }}
          </mat-button-toggle>
          }
        </mat-button-toggle-group>
      </div>

      <div class="control-group">
        <h4>Order</h4>
        <mat-button-toggle-group (change)="onOrderChange($event.value)" [disabled]="isBusy()">
          @for (option of orderByOptions; track $index) {
          <mat-button-toggle [value]="option.value">{{ option.label }}</mat-button-toggle>
          }
        </mat-button-toggle-group>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>
