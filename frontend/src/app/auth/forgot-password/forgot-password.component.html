<h2>Forgotten Password</h2>
<mat-card>
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <mat-card-header>
      <mat-card-title>Forgotten your password?</mat-card-title>
      <mat-card-subtitle>Enter your email address to receive a password reset link.</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      @if (hasSubmitted()) {
      <p>
        Your request has been submitted. If the email address matches an account in our systems, you will receive an
        email with instructions on how to reset your password.
      </p>
      } @else {
      <mat-form-field class="full-width">
        <mat-label>Email Address</mat-label>
        <input matInput placeholder="name@example.com" formControlName="emailAddress" autocomplete="email" />
        <mat-icon matSuffix>mail</mat-icon>
        <mat-hint>Your registered email address</mat-hint>
        @if (formGroup.controls.emailAddress.hasError('required')) {
        <mat-error>Email address is required</mat-error>
        } @else if (formGroup.controls.emailAddress.hasError('email')) {
        <mat-error>Invalid email address provided</mat-error>
        }
      </mat-form-field>
      }
    </mat-card-content>
    <mat-card-actions>
      @switch (status()) { @case ('busy') {
      <mat-progress-bar mode="indeterminate" />
      } @default { @if (hasSubmitted()) {
      <a mat-flat-button routerLink="/">
        <mat-icon>home</mat-icon>
        Back Home
      </a>
      } @else {
      <button mat-flat-button type="submit" [disabled]="formGroup.invalid">Send Reset Link</button>
      <a mat-button routerLink="/auth/login">Log In To Account</a>
      } } }
    </mat-card-actions>
  </form>
</mat-card>
